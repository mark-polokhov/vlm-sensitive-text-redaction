# Context-Aware Sensitive Text Redaction with VLM

ะัะปััะธะผะพะดะฐะปัะฝัะน ัะตัะฒะธั ะดะปั **ะฟะพะธัะบะฐ ะธ ัะดะฐะปะตะฝะธั ััะฒััะฒะธัะตะปัะฝะพะน ะธะฝัะพัะผะฐัะธะธ ะฝะฐ ะธะทะพะฑัะฐะถะตะฝะธัั** (ััะตะผั, ะดะธะฐะณัะฐะผะผั, ะธะฝััะฐััััะบัััะฝัะต ัะธััะฝะบะธ, ัะบัะธะฝัะพัั).

ะัะพะตะบั ะฟะพะบะฐะทัะฒะฐะตั **ะฟัะธะผะตะฝะตะฝะธะต Vision-Language Model (VLM)** ะฒ ัะฒัะทะบะต ั OCR, ะณะดะต:

* ััะฒััะฒะธัะตะปัะฝะพััั ัะตะบััะฐ ะพะฟัะตะดะตะปัะตััั **ะฒะธะทัะฐะปัะฝัะผ ะบะพะฝัะตะบััะพะผ**
* ัะตะบัั ัะฝะฐัะฐะปะฐ **ะธะฝัะตัะฟัะตัะธััะตััั ะผะพะดะตะปัั**
* ะทะฐัะตะผ **ะปะพะบะฐะปะธะทัะตััั ะฝะฐ ะธะทะพะฑัะฐะถะตะฝะธะธ ะธ ัะดะฐะปัะตััั**

## ะะฐะดะฐัะฐ ะฟัะพะตะบัะฐ

**Context-aware sensitive text extraction & redaction**

ะะฐ ะฒัะพะด:

* ะะทะพะฑัะฐะถะตะฝะธะต (ะดะธะฐะณัะฐะผะผะฐ, ััะตะผะฐ, ัะบัะธะฝัะพั)

ะะฐ ะฒััะพะด:

* ะะทะพะฑัะฐะถะตะฝะธะต, ะณะดะต **ะฒัะต ััะฒััะฒะธัะตะปัะฝัะต ััะฐััะบะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะบัะฐัะตะฝั**

ะงัะฒััะฒะธัะตะปัะฝะพััั ะพะฟัะตะดะตะปัะตััั **ะฝะต ะฟะพ ะบะปััะตะฒัะผ ัะปะพะฒะฐะผ**, ะฐ ะฟะพ:

* ะฒะธะทัะฐะปัะฝะพะผั ะพะบััะถะตะฝะธั
* ัะธะฟั ะดะธะฐะณัะฐะผะผั
* ัะตะผะฐะฝัะธัะตัะบะพะผั ะบะพะฝัะตะบััั (ะธะฝััะฐััััะบัััะฐ, ะฟะตััะพะฝะฐะปัะฝัะต ะดะฐะฝะฝัะต, ะฒะฝัััะตะฝะฝะธะต ัะตัะฒะธัั)

## ะััะธัะตะบัััะฐ ัะตัะตะฝะธั

ะะฐะนะฟะปะฐะนะฝ ัะพััะพะธั ะธะท **ะฝะตัะบะพะปัะบะธั ะฝะตะทะฐะฒะธัะธะผัั ML-ััะฐะฟะพะฒ**.

```
โโโโโโโโโโโโ
โ  Image   โ
โโโโโโฌโโโโโโ
     โโโโโโโโโโโโโโโโโโโโโโโ
     โ                     โ
     โผ                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Vision-Language    โโ OCR (easyocr)      โ
โ Model (VLM)        โโ                    โ
โ                    โโ โข Bounding boxes   โ
โ โข ะะฝะฐะปะธะท ะบะฐััะธะฝะบะธ  โโ โข ะะพะพัะดะธะฝะฐัั       โ
โ โข ะะพะฝัะตะบัั         โโโโโโโฌโโโโโโโโโโโโโโโโ
โ โข ะัะฑะพั            โ     โ
โ   ััะฒััะฒะธัะตะปัะฝะพะณะพ  โ     โ
โ   ัะตะบััะฐ           โ     โ
โโโโโโฌโโโโโโโโโโโโโโโโ     โ
     โโโโโโโโโโโโโโโโโโโโโโโ
     โ ัะฟะธัะพะบ ััะฐะท ะธ ะบะพะพัะดะธะฝะฐั ะฒัะตะณะพ ัะตะบััะฐ
     โผ
โโโโโโโโโโโโโโโโโโโโโโ
โ Text-to-box match  โ
โ                    โ
โ โข fuzzy matching   โ
โโโโโโฌโโโโโโโโโโโโโโโโ
     โ
     โผ
โโโโโโโโโโโโโโโโโโโโโโ
โ Image redaction    โ
โ                    โ
โ โข ะทะฐะบัะฐัะธะฒะฐะฝะธะต     โ
โโโโโโโโโโโโฌโโโโโโโโโโ
           โผ
     Final Image
```


## ะัะฟะพะปัะทัะตะผัะต ะผะพะดะตะปะธ ะธ ะธะฝััััะผะตะฝัั

### Vision-Language Model

* `Qwen2-VL-2B-Instruct`
* ะัะฟะพะปัะทัะตััั **ัะพะปัะบะพ ะดะปั ะบะพะฝัะตะบััะฝะพะณะพ ัะตัะตะฝะธั**
* ะะต ะทะฐะฝะธะผะฐะตััั ะปะพะบะฐะปะธะทะฐัะธะตะน

### OCR

* `easyocr` (ะฒ ะดะฐะฝะฝะพะผ ัะปััะฐะต)
* ะธะปะธ `PaddleOCR`

### UI

* Gradio

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
context_aware_redaction/
โ
โโโ examples                # ะัะธะผะตัั
โโโ notebooks               # ะะพััะฑัะบะธ
โโโ scripts                 # ะกะบัะธะฟั ะดะปั ะทะฐะฟััะบะฐ
โโโ src                     # ะะพะด ะฟัะธะปะพะถะตะฝะธั
โ
โโโ requirements.txt
โโโ README.md
```

## ะฃััะฐะฝะพะฒะบะฐ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
https://github.com/mark-polokhov/vlm-sensitive-text-redaction.git
cd vlm-sensitive-text-redaction
```

### 2. ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั

```bash
python -m venv venv
source venv/bin/activate
```

### 3. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r requirements.txt
```

## ะะฐะฟััะบ ัะตัะฒะธัะฐ

```bash
python src/app.py
```

ะะพัะปะต ะทะฐะฟััะบะฐ Gradio ะฒัะฒะตะดะตั ัััะปะบั:

```
Running on http://127.0.0.1:7860
```

ะัะบัะพะนัะต ะตั ะฒ ะฑัะฐัะทะตัะต.


## ะะฐะบ ะฟะพะปัะทะพะฒะฐัััั

1. ะะฐะณััะทะธัะต ะธะทะพะฑัะฐะถะตะฝะธะต
2. ะะฐะถะผะธัะต **Submit**
3. ะะพะดะตะปั:
   * ะพะฟัะตะดะตะปะธั ััะฒััะฒะธัะตะปัะฝัะน ัะตะบัั
   * ะฝะฐะนะดะตั ะตะณะพ ะบะพะพัะดะธะฝะฐัั
   * ะทะฐะบัะฐัะธั ัะพะพัะฒะตัััะฒัััะธะต ะพะฑะปะฐััะธ
4. ะกะบะฐัะฐะนัะต ะพััะตะดะฐะบัะธัะพะฒะฐะฝะฝะพะต ะธะทะพะฑัะฐะถะตะฝะธะต

## ๐ ะะพะทะผะพะถะฝัะต ัะปัััะตะฝะธั

* GroundingDINO ะฒะผะตััะพ OCR-box match
* ะะพะปััะฐั ะผะพะดะตะปั (ะฝะฐ ะผะพะธั ัะตััััะฐั ั ะพะณัะฐะฝะธัะตะฝ ะฟะฐัะพะน ะผะธะปะปะธะฐัะดะพะฒ ะฟะฐัะฐะผะตััะพะฒ)
* ะะปะฐััะธัะธะบะฐัะธั ัะธะฟะพะฒ ััะฒััะฒะธัะตะปัะฝะพััะธ
* batch-ะธะฝัะตัะตะฝั

